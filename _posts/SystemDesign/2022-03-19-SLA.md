---
layout: post
title: 'SLA'
date: 2022-03-19
categories: 系统设计
tags: 系统设计
---

### 1.SLA是什么？

服务等级协议（Service-Level Agreement）
系统服务提供者 对 客户 的一个 可量化的服务承诺
常见于大型分布式系统中，衡量什么呢？-》服务是否稳定健康

### 2.SLA 常用指标

#### 2.1.可用性

- 系统服务能正常运行所占的时间百分比
- "几个九"

### 2.2.准确性

- 是否允许某些数据不准确或丢失
- 如果允许，那么用户的容忍度怎样？
- 容忍度常见衡量方式：基于周期内的错误率计算准确性
  - 准确率 = 1 - 错误率
- e.g.错误率 = 周期内有效请求的错误次数占比

### 2.3.系统容量

- 系统能够支持的负载量。(一般是每秒请求数)
- 常见衡量指标
  - QPS `（Query Per Second）`
  - TPS `（Transaction Per Second）`
  - 并发数 `(同一时间处理的请求/事务数)`
  - RT `( 响应时间；一般指平均响应时间)`
  - 常用评估公式
    ![常用评估公式](/assets/img/commonCopasity.png)

### 2.4.延迟

- 系统收到请求到响应请求之间的间隔
- 常用延迟声明
  - p95
  - p99
    - 比如：p95是对于1秒说的话，那就表示在100个请求中有95个会小于1秒
